(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(t,e,n){t.exports=n(18)},17:function(t,e,n){},18:function(t,e,n){"use strict";n.r(e);var r=n(2),a=n.n(r),o=n(3),c=n(0),u=n.n(c),s=n(6),i=n.n(s),p=n(9);function f(t){var e=t.book;return u.a.createElement("div",null,e.visibleName)}function h(t){var e=t.books,n=t.onBookAdd;return u.a.createElement("div",null,e.map(function(t,e){return u.a.createElement(f,{book:t,key:e})}),u.a.createElement("button",{onClick:n},"Add"))}var b=n(10),d=n(4),k=n(5),l=n(1),v="https://tdd.demo.reaktivate.com/v1/books/postnikov",w=Object(k.a)(function t(){Object(d.a)(this,t),this.get=function(){var t=Object(o.a)(a.a.mark(function t(e){var n,r;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(v).concat(e));case 2:return n=t.sent,r=n.json(),t.abrupt("return",r);case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),this.post=function(){var t=Object(o.a)(a.a.mark(function t(e,n){var r,o;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(v).concat(e),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 2:return r=t.sent,o=r.json(),t.abrupt("return",o);case 5:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()}),m=new(Object(k.a)(function t(){var e=this;Object(d.a)(this,t),this.getBooks=Object(o.a)(a.a.mark(function t(){var n;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.httpGateway.get("/");case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}},t)})),this.addBook=function(){var t=Object(o.a)(a.a.mark(function t(n){var r,o,c;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.name,o=n.author,t.next=3,e.httpGateway.post("/",{name:r,author:o});case 3:return c=t.sent,t.abrupt("return",c&&"ok"===c.status);case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),this.httpGateway=new w})),O=function(){function t(){var e=this;Object(d.a)(this,t),this.books=[],this.addBook=Object(o.a)(a.a.mark(function t(){var n,r;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=!1,t.prev=1,r={name:"x_name",author:"x_author"},t.next=5,m.addBook(r);case 5:alert("New Book Added Successfuly..."),n=!0,Object(l.o)(function(){return e.books.push(r)}),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),console.debug("ERROR:",t.t0),alert("New Book Add Failed...");case 14:return t.abrupt("return",n);case 15:case"end":return t.stop()}},t,null,[[1,10]])})),Object(l.l)(this)}return Object(k.a)(t,[{key:"loadData",value:function(){var t=Object(o.a)(a.a.mark(function t(){var e,n=this;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m.getBooks();case 3:e=t.sent,Object(l.o)(function(){var t;return(t=n.books).push.apply(t,Object(b.a)(e))}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.debug("ERROR:",t.t0);case 10:case"end":return t.stop()}},t,null,[[0,7]])}));return function(){return t.apply(this,arguments)}}()},{key:"init",value:function(){var t=Object(o.a)(a.a.mark(function t(){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.loadData();case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"booksList",get:function(){return this.books.map(function(t){return{visibleName:"".concat(t.name,":").concat(t.author)}})}}]),t}(),j=(n(17),Object(p.a)(function(t){var e=t.controller;return Object(c.useEffect)(function(){(function(){var t=Object(o.a)(a.a.mark(function t(){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.init();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}})()()},[e]),u.a.createElement(h,{books:e.booksList,onBookAdd:e.addBook})})),x=document.getElementById("root");i.a.render(u.a.createElement(j,{controller:new O}),x)}},[[11,1,2]]]);
//# sourceMappingURL=main.acdc984a.chunk.js.map